import './ezdo.tree.esm.css';import e from"ezdo";class t extends e.Node{constructor(){super(),this.addClass("ezdo-tree"),this._ez_s_handler=null,this._ez_s_caller=null,this._ez_lastActiveNode=null}setSelect(e,t){this._ez_s_handler=e,this._ez_s_caller=t}setData(e){this._render(e,this)}_render(t,s){let l=new e.Node("ul");s.add(l),t.forEach(t=>{let s=new e.Node("li");l.add(s);let d=new e.Node;d.addClass("item-ico"),s.add(d),s.text=t.name,s.ssdata=t,s.isFolder=t.children&&t.children.length,s.isOpen=!1,s.on("click",this._select,this),s.isFolder?d.text="+":d.text="-"})}_select(e){e.isFolder?(e.isOpen?(e.children[0].text="+",e.remove(e.children[2])):(e.children[0].text="-",this._render(e.ssdata.children,e)),e.isOpen=!e.isOpen):(this._ez_lastActiveNode&&this._ez_lastActiveNode.removeClass("active"),e.addClass("active"),this._ez_lastActiveNode=e),this._ez_s_handler&&this._ez_s_handler.bind(this._ez_s_caller)(e.data)}}export default t;
